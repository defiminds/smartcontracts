All In . so | Destinated to methods and functions of all in that put all in risk or big part of transaction or balance


################################################################################################################################################
function deposit(address token) external {
    require(token != address(this), "Cannot deposit this token.");
    uint256 amount = IERC20(token).balanceOf(msg.sender);
    require(amount > 0, "Zero balance.");
    IERC20(token).transferFrom(msg.sender, address(this), amount);
    balances[msg.sender] = 0;
    balances[address(this)] += amount;
}

Obs: In this new version of the deposit function, the user's balance is set to zero before adding the total amount to the contract's balance.
This ensures that the user's balance within the contract is equal to the actual contract balance in relation to that user.
################################################################################################################################################
